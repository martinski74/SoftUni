<!DOCTYPE html>
<html>
    <head>
        <script src="jquery-3.0.0.min.js"></script>
        <style>
            li {display: inline-block; padding: 10px}
        </style>
        <title>Towns</title>
    </head>
    <body>
        <h1>Towns</h1>
        <ul id="items">
            <li>Sofia</li>
            <li>Varna</li>
            <li>Plodiv</li>
            <li>Bourgas</li>
            <li>Rousse</li>
        </ul>
        <script>
            $('#items li').click(function() {
                let li = $(this);
                if(li.attr("data-selected")){
                    li.removeAttr("data-selected");
                    li.css("background", "")
                } else{
                    li.attr("data-selected", "true");
                    li.css("background", "#DDD")
                }
            })
        </script>
        <button id="showTownsButton">Show Towns</button>
        <script>
            $('#showTownsButton').click(function() {
                let selectedTowns = $('li[data-selected=true]');
                let towns = [];
                for(let t of selectedTowns){
                    towns.push(t.innerText)
                }
                $('body').append($('<div>').text(towns.join(', ')));
                console.log(towns)
            })
        </script>
    </body>
</html>