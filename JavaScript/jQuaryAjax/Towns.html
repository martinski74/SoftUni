<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Towns</title>
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <style>
        li {
            display: inline-block;
            padding: 10px;
        }
    </style>
</head>
<body>
<h1>Towns</h1>
<ul id="items">
    <li>Sofia</li>
    <li>Varna</li>
    <li>Plovdiv</li>
    <li>Bourgas</li>
    <li>Rousse</li>
</ul>
<br>
<button id="showSelected">Show Towns</button>

<script>
    $('li').click(function () {
        let li = $(this);
        if (!li.attr('selected')) {
            li.css('background', '#DDD');
            li.attr('selected', 'true');
        } else {
            li.css('background', '');
            li.removeAttr('selected');
        }
    })

    $('#showSelected').click(function () {
        let selectedTowns = $('li[selected]');
        let towns = [];
        for (var t of selectedTowns) {
            towns.push(t.innerText);
        }
        let div = $('<div>');
        div.text(towns.join(', '));
        $('body').append(div);
    })
</script>

</body>
</html>